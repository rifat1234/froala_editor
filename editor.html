<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

  <!-- Include Font Awesome. -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

  <!-- Include Editor style. -->
  <link href="froala_editor/css/froala_editor.min.css" rel="stylesheet" type="text/css" />
  <link href="froala_editor/css/froala_style.min.css" rel="stylesheet" type="text/css" />

  <!-- Include Code Mirror style -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.3.0/codemirror.min.css">

  <!-- Include Editor Plugins style. -->
  <link rel="stylesheet" href="froala_editor/css/plugins/char_counter.css">
  <link rel="stylesheet" href="froala_editor/css/plugins/code_view.css">
  <link rel="stylesheet" href="froala_editor/css/plugins/colors.css">
  <link rel="stylesheet" href="froala_editor/css/plugins/emoticons.css">
  <link rel="stylesheet" href="froala_editor/css/plugins/file.css">
  <link rel="stylesheet" href="froala_editor/css/plugins/fullscreen.css">
  <link rel="stylesheet" href="froala_editor/css/plugins/image.css">
  <link rel="stylesheet" href="froala_editor/css/plugins/image_manager.css">
  <link rel="stylesheet" href="froala_editor/css/plugins/line_breaker.css">
  <link rel="stylesheet" href="froala_editor/css/plugins/quick_insert.css">
  <link rel="stylesheet" href="froala_editor/css/plugins/table.css">
  <link rel="stylesheet" href="froala_editor/css/plugins/video.css">
  <!-- CSS rules for styling the element inside the editor such as p, h1, h2, etc. -->
<link href="froala_editor/css/froala_style.min.css" rel="stylesheet" type="text/css" />


<head>

<body>
  <!-- Create a tag that we will use as the editable area.
       You can use a div tag as well. -->
  
  <div id="froala-editor">
    <p>The buttons below will destroy and init the rich text editor again.</p>
  </div>
  <p>

    <button class="btn">Get Value</button>
  </p>

  <!-- Include jQuery. -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
 
  <!-- Include JS files. -->
  <script type="text/javascript" src="froala_editor/js/froala_editor.min.js"></script>

  <!-- Include Code Mirror. -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.3.0/codemirror.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.3.0/mode/xml/xml.min.js"></script>

  <!-- Include Plugins. -->
  <script type="text/javascript" src="froala_editor/js/plugins/align.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/char_counter.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/code_beautifier.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/code_view.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/colors.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/emoticons.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/entities.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/file.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/font_family.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/font_size.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/fullscreen.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/image.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/image_manager.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/inline_style.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/line_breaker.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/link.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/lists.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/paragraph_format.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/paragraph_style.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/quick_insert.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/quote.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/table.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/save.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/url.min.js"></script>
  <script type="text/javascript" src="froala_editor/js/plugins/video.min.js"></script>

  <!-- Include Language file if we want to use it. -->
  <script type="text/javascript" src="froala_editor/js/languages/ro.js"></script>
 

  <!-- Initialize the editor. -->
  <script>
    
  $(function() {
    $('div#froala-editor').froalaEditor({
          
            inlineMode: false,

      // Set custom buttons with separator between them.
      toolbarButtons: [ 'sep', 'bold', 'italic', 'underline','emoticons','insertLink','insertImage','undo', 'redo'],
    
        // Set the image upload URL.
        imageUploadURL: 'php/upload_image.php',
        

        // Additional upload params.
        imageUploadParams: {id: 'my_editor'}
      })
    
      .on('froalaEditor.image.beforeUpload', function (e, editor, images) {
        // Return false if you want to stop the image upload.
      })
      .on('froalaEditor.image.uploaded', function (e, editor, response) {
        // Image was uploaded to the server.
      })
      .on('froalaEditor.image.inserted', function (e, editor, $img, response) {
        // Image was inserted in the editor.
      })
      .on('froalaEditor.image.replaced', function (e, editor, $img, response) {
        // Image was replaced in the editor.
      })
       // Catch image removal from the editor.
      // Catch image remove
      .on('froalaEditor.image.removed', function (e, editor, $img) {
        $.ajax({
          // Request method.
          method: "POST",

          // Request URL.
          url: "http://localhost/froala_editor/php/delete_image.php",

          // Request params.
          data: {
            src: $img.attr('src')
          }
        })
        .done (function (data) {
          console.log ('image was deleted');
        })
        .fail (function () {
          console.log ('image delete problem');
        })
      })
      .on('froalaEditor.image.error', function (e, editor, error, response) {
        alert("not working");
        // Bad link.
        if (error.code == 1) { alert(1);}

        // No link in upload response.
        else if (error.code == 2) { alert(2); }

        // Error during image upload.
        else if (error.code == 3) { alert(3); }

        // Parsing response failed.
        else if (error.code == 4) { alert(4); }

        // Image too text-large.
        else if (error.code == 5) { alert(5); }

        // Invalid image type.
        else if (error.code == 6) { alert(6);}

        // Image can be uploaded only to same domain in IE 8 and IE 9.
        else if (error.code == 7) { alert(7);}

        // Response contains the original server response to the request if available.

      });
  });

  
  $('.btn').on('click',function(e){
    var val = $('div#froala-editor').froalaEditor('html.get');
    alert(val);
  });
</script>
</body>
</html>

